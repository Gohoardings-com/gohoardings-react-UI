import{d as x,m as T,n as A,_ as P,s as n,y as o,z as u,C as s,E as g,B as d,A as b,N as O,bb as pe,k as me,F as m,K as oe,b6 as he,b4 as fe,b$ as _e,c0 as ke,c1 as ye,c2 as ve,c3 as Se,c4 as Oe,c5 as Le,ae as we,af as p,h as xe,b_ as Te,ai as v,q as Ae,x as Pe,H as k,M as Fe,G as ee,ah as Ce,J as S,U as Ie,L as Ee,W as $e,aN as De,be as ne,bf as re,aQ as c,a4 as Re,a5 as Be,bj as Ve,b8 as te,bk as Ne,b0 as qe,bl as Ue,bm as Me,bn as He,bo as je,br as ze,bu as We,bs as Ge,aR as Je,bt as Ke,bp as Qe,bq as Ye,bv as Ze,bw as Xe,bx as et,by as tt,bA as at,bB as st,bC as ot,c6 as nt}from"./style.819a3ab3.js";const rt=x({name:"SuspensionOverlay",data(){return{copiedEmail:!1}},computed:{...T({org:e=>e.auth.currentOrg,user:e=>e.auth.currentUser,allOrganisations:e=>e.auth.allOrganisations})},methods:{copySupportEmail(){A.utils.copyText("support@olvy.co")&&(this.copiedEmail=!0),setTimeout(()=>{this.copiedEmail=!1},5e3)}}}),it={class:"suspension-overlay fixed bg-white right-0 left-0 top-0 bottom-0 flex items-center justify-center"},lt={class:"flex flex-col text-center max-w-2xl items-center"},ct=s("div",{class:"text-2xl font-medium mb-4"}," \u26D4\uFE0F This workspace has been suspended ",-1),dt=s("div",{class:"text-gray-500"},[s("div",null," Workspaces can be suspended for services abuse, spam, or terms violations. If you think this is in error, please reach out to our support on support@olvy.co ")],-1),ut={class:"mt-4 mb-4 flex items-center justify-between"},bt=O(" Copy Support Email "),gt=O(" Copied ");function pt(e,t,a,r,l,f){const h=n("OButton"),_=n("OIcon");return o(),u("div",it,[s("div",lt,[ct,dt,s("div",ut,[e.copiedEmail?(o(),g(h,{key:1,variant:"success",class:"pointer-events-none"},{default:d(()=>[gt,b(_,{type:"check-line",size:"16",class:"ml-1",iconSet:"remix"})]),_:1})):(o(),g(h,{key:0,variant:"primary",onClick:e.copySupportEmail},{default:d(()=>[bt]),_:1},8,["onClick"]))])])])}const mt=P(rt,[["render",pt]]),ht=x({name:"App",computed:{...T({portalOrg:e=>e.portal.organisation}),isClient(){return!0},suspended30DaysAgo(){return this.portalOrg&&this.portalOrg.suspendedAt?pe(me(new Date(this.portalOrg.suspendedAt),{days:30}),new Date):!1}},methods:{},components:{SuspensionOverlayPortal:mt}});function ft(e,t,a,r,l,f){const h=n("metainfo"),_=n("SuspensionOverlayPortal"),L=n("router-view");return o(),u(oe,null,[b(h,null,{title:d(({content:w})=>[O(m(w),1)]),_:1}),e.suspended30DaysAgo?(o(),g(_,{key:0})):(o(),g(L,{key:1}))],64)}const _t=P(ht,[["render",ft]]),ae=[{key:"noLabel",name:"No label",value:null},{key:"featureRequest",name:"Feature request",value:"feature_request"},{key:"productIdea",name:"Product idea",value:"product_idea"},{key:"bugReport",name:"Bug report",value:"bug_report"},{key:"questions",name:"Questions",value:"questions"},{key:"praise",name:"Praise",value:"praise"}],kt=x({components:{OlvyBranding:he,Navbar:fe,Listbox:_e,ListboxLabel:ke,ListboxButton:ye,ListboxOptions:ve,ListboxOption:Se,CheckIcon:Oe,SelectorIcon:Le},async mounted(){await this.getOrgInfo();let e=[...this.labels];Object.keys(e).forEach(t=>{var r,l;let a=this.labels[t].key;this.labels[t].name=(l=(r=this.getTranslatedSystemText)==null?void 0:r.feedbackPage)==null?void 0:l.labels[a]}),this.getTranslationEnabledLanguages()},data(){return{userFeedback:"",feedbackSubmitStatus:"",labels:ae,translationEnabledLanguages:[],selectedLabel:{...ae[0]}}},computed:{...T({currentOrg:e=>e.portal.organisation,orgDefaultLanguage:e=>{var t;return(t=e.portal.organisation)==null?void 0:t.defaultLanguage}}),...we({showReleasePageBranding:"portal/showReleasePageBranding",activeSubscription:"portal/activeSubscription"}),isSystemTextTranslationAllowed(){return p.getIsFeatureAllowedFromSubscription(this.activeSubscription,"organisation:multi_language")||!1},isLangaugeSwitchingAllowed(){return p.getIsFeatureAllowedFromSubscription(this.activeSubscription,"organisation:multi_language_auto_translation")||!1},shouldHideLanguageSelector(){var t,a;let e=!((a=(t=this.currentOrg)==null?void 0:t.releaseNotesSettings)!=null&&a.showTranslationSwitch);return!this.translationEnabledLanguages.length||e},getTranslatedSystemText(){var e,t;return(t=(e=this.currentOrg)==null?void 0:e.translations)==null?void 0:t.Translations},isClient(){return!0},isFeedbackValid(){var e;return((e=this.userFeedback)==null?void 0:e.length)>0},showFeedbackAndReactions(){return!p.getIsFeatureAllowedFromSubscription(this.activeSubscription,"organisation:release_notes:feedback")},showOlvyBrandingOnPortal(){return!p.getIsFeatureAllowedFromSubscription(this.activeSubscription,"organisation:release_notes:olvy_branding")},isCustomeJSDisabled(){return!p.getIsFeatureAllowedFromSubscription(this.activeSubscription,"organisation:release_notes:custom_js")},isCustomeCssDisabled(){return!p.getIsFeatureAllowedFromSubscription(this.activeSubscription,"organisation:release_notes:custom_css")},isThemeingDisabled(){return!p.getIsFeatureAllowedFromSubscription(this.activeSubscription,"organisation:release_notes:themeing")}},methods:{...xe({getOrgFromAlias:"portal/getOrganisationFromAlias",GetOrganisationTranslations:"portal/getOrganisationTranslations"}),getUserPreferredLanguage(){var t,a;let e=this.orgDefaultLanguage||"en";return this.isLangaugeSwitchingAllowed?e=window.localStorage.getItem(`olvy_preferred_language_${(t=this.currentOrg)==null?void 0:t.alias}`)||"en":this.isSystemTextTranslationAllowed?e=(a=this.currentOrg)==null?void 0:a.defaultLanguage:e="en",e},getTranslationEnabledLanguages(){var r;let e=(r=this.currentOrg)==null?void 0:r.releaseNotesSupportedLanguages,t=["es","fr","de","pt"],a=[...this.translationEnabledLanguages];e&&t.forEach(l=>{e[l]&&e[l].enabled&&(a.push(l),this.translationEnabledLanguages=a)})},async switchPortalLanguage(e){var t;try{window.localStorage.setItem(`olvy_preferred_language_${(t=this.currentOrg)==null?void 0:t.alias}`,e),await this.getOrgSystemText()}catch(a){console.error("Error - ",a)}},async getOrgSystemText(){var e;await this.GetOrganisationTranslations({orgAlias:(e=this.currentOrg)==null?void 0:e.alias,languageCode:this.getUserPreferredLanguage()})},async getOrgInfo(){var t;let e=Te.getOrgAlias(this.$route);e||this.$router.push("/404"),(t=this.currentOrg)!=null&&t.id||await this.getOrgFromAlias(e,this.getUserPreferredLanguage())},getOrgLogo(){var e,t,a;return{image:(t=(e=this.currentOrg)==null?void 0:e.releaseNotesSettings)==null?void 0:t.logo,altText:((a=this.currentOrg)==null?void 0:a.name)||"logo"}},async submitFeedback(){var e;if(this.feedbackSubmitStatus="loading",this.isFeedbackValid)try{let t={body:this.userFeedback,type:this.selectedLabel.value,source:{type:"manual",app:"olvy-external",timestamp:new Date().toISOString()}};const a=await this.createFeedbackMutation({organisationId:(e=this.currentOrg)==null?void 0:e.id,params:t});a.error?v.graphql.error({title:"Failed to submit feedback",error:a.error}):(this.userFeedback="",this.feedbackSubmitStatus="success",this.selectedLabel={...this.labels[0]},v.success({title:"Successfully submitted the feedback",text:"Your feedback has been submitted."}))}catch(t){console.error(t),this.feedbackSubmitStatus="error",v.error({title:"Failed to submit feedback",text:"Something went wrong while submitting the feedback, please try again."})}else v.error({title:"Cannot send empty feedback!",text:"Please provide some message in your feedback."}),this.feedbackSubmitStatus=""}},setup(){const{executeMutation:e}=A.graphql.useMutation(Ae`
      mutation ($organisationId: String!, $params: CreateFeedbackInput!) {
        createFeedback(organisationId: $organisationId, params: $params)
      }
    `);return{createFeedbackMutation:e}},metaInfo(){return{title:"Send Feedback"}}}),yt={class:"h-full w-full",style:{background:"var(--olvy-background-color)"}},vt={class:"max-w-screen-2xl mx-auto px-4 pb-12 p-4 sm:px-6"},St={class:"text-center feedback-page-header"},Ot={class:"text-center feedback-page-description"},Lt={class:"max-w-3xl mx-auto px-4 pb-36"},wt={class:""},xt={for:"description",class:"sr-only"},Tt={class:"feedback-textarea"},At=["placeholder","disabled"],Pt=De('<div aria-hidden="true"><div class="py-2"><div class="h-9"></div></div><div class="py-2"><div class="py-px"><div class="h-9"></div></div></div></div>',1),Ft={class:"absolute bottom-0 inset-x-px"},Ct=s("div",{class:"flex flex-nowrap py-2 px-2 space-x-2 sm:px-3 justify-between items-center"},null,-1),It={key:0,class:"border-t px-2 py-2 flex justify-between items-center space-x-3 sm:px-3",style:{"border-color":"var(--olvy-border-color)"}},Et=O(" Add a label "),$t={class:"relative"},Dt={class:"flex items-center"},Rt={class:"feebdack-label-name"},Bt={class:"flex-shrink-0"},Vt=["disabled"],Nt={key:1,style:{fill:"var(--white)"},width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},qt=s("path",{d:"M12.965 8.59588C13.0755 8.54046 13.1685 8.45535 13.2335 8.3501C13.2985 8.24484 13.3329 8.12358 13.3329 7.99988C13.3329 7.87618 13.2985 7.75492 13.2335 7.64967C13.1685 7.54441 13.0755 7.45931 12.965 7.40388L3.63164 2.73722C3.51591 2.67931 3.38583 2.65634 3.25728 2.6711C3.12872 2.68586 3.00723 2.73772 2.90764 2.82034C2.80805 2.90297 2.73467 3.01279 2.69643 3.13642C2.65819 3.26004 2.65676 3.39213 2.6923 3.51655L3.64497 6.84988C3.68482 6.9892 3.76897 7.11174 3.88469 7.19895C4.00041 7.28616 4.1414 7.3333 4.28631 7.33321H7.33364C7.51045 7.33321 7.68002 7.40345 7.80504 7.52848C7.93006 7.6535 8.0003 7.82307 8.0003 7.99988C8.0003 8.17669 7.93006 8.34626 7.80504 8.47129C7.68002 8.59631 7.51045 8.66655 7.33364 8.66655H4.28631C4.1414 8.66647 4.00041 8.7136 3.88469 8.80081C3.76897 8.88803 3.68482 9.01057 3.64497 9.14988L2.69297 12.4832C2.65735 12.6076 2.6587 12.7397 2.69685 12.8633C2.73499 12.9869 2.80829 13.0968 2.90781 13.1795C3.00732 13.2622 3.12874 13.3141 3.25727 13.329C3.3858 13.3439 3.51587 13.321 3.63164 13.2632L12.965 8.59655V8.59588Z"},null,-1),Ut=[qt],Mt={key:1,class:"text-green-600 bg-green-50 rounded-lg p-2"};function Ht(e,t,a,r,l,f){var F,C,I,E,$,D,R,B,V,N,q,U,M,H,j,z,W,G,J,K,Q,Y,Z,X;const h=n("OlvyBranding"),_=n("Navbar"),L=n("ListboxLabel"),w=n("OIcon"),le=n("ListboxButton"),ce=n("ListboxOption"),de=n("ListboxOptions"),ue=n("Listbox"),be=n("OLoader"),ge=Pe("tooltip");return o(),u("main",yt,[e.showOlvyBrandingOnPortal?(o(),g(h,{key:0})):k("",!0),e.getTranslatedSystemText?(o(),g(_,{key:1,orgName:(F=e.currentOrg)==null?void 0:F.name,orgAlias:(C=e.currentOrg)==null?void 0:C.alias,links:($=(E=(I=e.currentOrg)==null?void 0:I.releaseNotesSettings)==null?void 0:E.header)==null?void 0:$.navItems,"show-feedback-button":((R=(D=e.currentOrg)==null?void 0:D.releaseNotesSettings)==null?void 0:R.feedbackPage)!=="disabled",orgWebsiteLink:(B=e.currentOrg)==null?void 0:B.website,logo:e.getOrgLogo(),onSwitchLanguage:e.switchPortalLanguage,hideLanguageSelector:e.shouldHideLanguageSelector},null,8,["orgName","orgAlias","links","show-feedback-button","orgWebsiteLink","logo","onSwitchLanguage","hideLanguageSelector"])):k("",!0),s("div",vt,[s("div",St,m((N=(V=e.getTranslatedSystemText)==null?void 0:V.feedbackPage)==null?void 0:N.headerText),1),s("div",Ot,m((U=(q=e.getTranslatedSystemText)==null?void 0:q.feedbackPage)==null?void 0:U.description),1)]),s("div",Lt,[s("div",null,[s("form",{onSubmit:t[2]||(t[2]=Fe((...i)=>e.submitFeedback&&e.submitFeedback(...i),["prevent"])),class:"relative"},[s("div",wt,[s("label",xt,m((H=(M=e.getTranslatedSystemText)==null?void 0:M.feedbackPage)==null?void 0:H.textAreaLabel),1),s("div",Tt,[ee(s("textarea",{"data-test":"send-feedback-textbox","onUpdate:modelValue":t[0]||(t[0]=i=>e.userFeedback=i),required:"",rows:"10",name:"Please let us know what's your feedback?",id:"Please let us know what's your feedback?",class:"border",placeholder:(z=(j=e.getTranslatedSystemText)==null?void 0:j.feedbackPage)==null?void 0:z.textAreaPlaceholder,disabled:e.showFeedbackAndReactions},null,8,At),[[Ce,e.userFeedback]])]),Pt]),s("div",Ft,[Ct,e.isClient?(o(),u("div",It,[b(ue,{as:"div",modelValue:e.selectedLabel,"onUpdate:modelValue":t[1]||(t[1]=i=>e.selectedLabel=i),class:"flex-shrink-0"},{default:d(()=>[b(L,{class:"sr-only"},{default:d(()=>[Et]),_:1}),s("div",$t,[b(le,{"data-test":"select-feedback-label",class:"feedback-attach-label"},{default:d(()=>{var i,y;return[b(w,{class:S([e.selectedLabel.value===null?"text-gray-300":"feedback-active-label-icon","flex-shrink-0 h-5 w-5 sm:-ml-1"]),"aria-hidden":"true",type:"tag",size:"16"},null,8,["class"]),s("span",{"data-test":"feedback-selected-label-text",class:S([(e.selectedLabel.value===null,"")," truncate ml-2 "])},m(e.selectedLabel.value===null?`${((y=(i=e.getTranslatedSystemText)==null?void 0:i.feedbackPage)==null?void 0:y.labelPlaceholder)||"label"}`:e.selectedLabel.name),3)]}),_:1}),b(Ie,{"leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:d(()=>[b(de,{"data-test":"feedback-label-option-list",class:"absolute right-0 z-10 mt-1 w-52 shadow max-h-56 rounded-lg py-3 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",style:{background:"var(--olvy-background-color)"}},{default:d(()=>[(o(!0),u(oe,null,Ee(e.labels,i=>(o(),g(ce,{"data-test":"feedback-label-option",as:"template",key:i.name,value:i},{default:d(({active:y})=>[s("li",{style:$e(y?"background: var(--olvy-brand-background-color); color: var(--olvy-brand-text-color);":"background: var(--olvy-secondary-button-background-color); color: var(--olvy-secondary-button-text-color);"),class:S(["cursor-pointer select-none relative py-2 px-3"])},[s("div",Dt,[s("span",Rt,m(i.name),1)])],4)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})])]),_:1},8,["modelValue"]),s("div",Bt,[e.feedbackSubmitStatus!=="success"?ee((o(),u("button",{key:0,"data-test":"send-feedback-button",type:"submit",class:S(["btn-send",e.isFeedbackValid?"":"cursor-not-allowed"]),disabled:e.feedbackSubmitStatus=="loading"},[e.feedbackSubmitStatus=="loading"?(o(),g(be,{key:0,size:16,branded:!1})):(o(),u("svg",Nt,Ut))],10,Vt)),[[ge,e.feedbackSubmitStatus=="loading"?`${(G=(W=e.getTranslatedSystemText)==null?void 0:W.feedbackPage)==null?void 0:G.sendingFeedbackTooltip}`:e.isFeedbackValid?`${(Y=(Q=e.getTranslatedSystemText)==null?void 0:Q.feedbackPage)==null?void 0:Y.sendFeedbackTooltip}`:`${(K=(J=e.getTranslatedSystemText)==null?void 0:J.feedbackPage)==null?void 0:K.invalidFeedbackTooltip}`]]):k("",!0),e.feedbackSubmitStatus=="success"?(o(),u("span",Mt,m((X=(Z=e.getTranslatedSystemText)==null?void 0:Z.feedbackPage)==null?void 0:X.feedbackSent),1)):k("",!0)])])):k("",!0)])],32)])])])}const jt=P(kt,[["render",Ht]]),ie=[{path:"/",name:"PortalReleases",component:()=>c(()=>import("./Releases.8c2c788e.js").then(e=>e.L),["assets/Releases.8c2c788e.js","assets/Releases.872efbef.css","assets/style.819a3ab3.js","assets/style.132c640d.css","assets/ReleaseProjectPopover.8bbf3fac.js","assets/ReleaseProjectPopover.6bd22927.css","assets/ReleaseNoteCard.6c115506.js","assets/index.03e967e7.js"])},{path:"/404",name:"Portal404",component:()=>c(()=>import("./404.8ffcf582.js"),["assets/404.8ffcf582.js","assets/style.819a3ab3.js","assets/style.132c640d.css"])},{path:"/embed",name:"PortalReleasesEmbed",component:()=>c(()=>import("./PortalReleasesEmbed.27adcbf4.js"),["assets/PortalReleasesEmbed.27adcbf4.js","assets/PortalReleasesEmbed.09b34f17.css","assets/style.819a3ab3.js","assets/style.132c640d.css","assets/ReleaseProjectPopover.8bbf3fac.js","assets/ReleaseProjectPopover.6bd22927.css","assets/index.03e967e7.js"])},{path:"/embed/feedback",name:"PortalFeedbackEmbed",component:()=>c(()=>import("./PortalFeedbackEmbed.3e4c7a17.js"),["assets/PortalFeedbackEmbed.3e4c7a17.js","assets/PortalFeedbackEmbed.47b275a8.css","assets/style.819a3ab3.js","assets/style.132c640d.css","assets/datetime.36673a4c.js","assets/index.03e967e7.js"])},{path:"/embed/notification",name:"PortalFeedbackNotification",component:()=>c(()=>import("./PortalFeedbackNotification.4392da4b.js"),["assets/PortalFeedbackNotification.4392da4b.js","assets/PortalFeedbackNotification.b72a903b.css","assets/style.819a3ab3.js","assets/style.132c640d.css"])},{path:"/embed/feedback/rating",name:"FeedbackEmbedRating",component:()=>c(()=>import("./PortalFeedbackEmbedRating.dd8985e6.js"),["assets/PortalFeedbackEmbedRating.dd8985e6.js","assets/PortalFeedbackEmbedRating.cea621b4.css","assets/style.819a3ab3.js","assets/style.132c640d.css","assets/datetime.36673a4c.js","assets/index.03e967e7.js"])},{path:"/subscription_verify/:token",name:"PortalVerifySubscription",component:()=>c(()=>import("./VerifySubscription.a5330bd5.js"),["assets/VerifySubscription.a5330bd5.js","assets/style.819a3ab3.js","assets/style.132c640d.css"])},{path:"/unsubscribe_verify/:contactId",name:"PortalUnsubscribe",component:()=>c(()=>import("./Unsubscribe.86dae032.js"),["assets/Unsubscribe.86dae032.js","assets/style.819a3ab3.js","assets/style.132c640d.css"])},{path:"/:releaseNoteId",name:"PortalReleaseNote",component:()=>c(()=>import("./ReleasePage.4c274e3d.js"),["assets/ReleasePage.4c274e3d.js","assets/style.819a3ab3.js","assets/style.132c640d.css","assets/ReleaseNoteCard.6c115506.js","assets/ReleaseProjectPopover.8bbf3fac.js","assets/ReleaseProjectPopover.6bd22927.css","assets/index.03e967e7.js","assets/commonUtils.3366da88.js"])},{path:"/feedback",name:"PortalFeedback",component:jt}];ne({history:re("/"),routes:ie});const zt=()=>ne({history:re("/"),routes:ie}),Wt=()=>Re({modules:{portal:{namespaced:!0,...Be}}}),se={OIcon:Ve,OButton:te,OBtn:te,OSelect:Ne,ODropdown:qe,OInput:Ue,OAvatar:Me,OCheckbox:He,OTextarea:je,OLoader:ze,OLottieAnimation:We,OLogo:Ge,OSingleReaction:Je,OForm:Ke,OEmptyLayout:Qe,OEmptyState:Ye,OPricingIcon:Ze};function Gt(e,t,a,r){Object.keys(se).forEach(async f=>{e.component(f,se[f])}),e.directive("click-outside",Xe),e.use(r).use(et).use(tt).use(a).use(at,A.graphql.config);const l=st(t);return e.use(l).use(ot),e}function Jt(e){let t=nt(_t);const a=zt(),r=Wt();return t=Gt(t,e,a,r),{app:t,router:a,store:r}}const{app:Kt,router:Qt,store:Yt}=Jt(!1);Qt.isReady().then(()=>{const e=window.__INITIAL_STATE__;e&&Yt.replaceState(e),Kt.mount("#app")});
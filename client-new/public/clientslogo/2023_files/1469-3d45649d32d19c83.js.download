(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1469],{9482:function(e,o,n){"use strict";n.d(o,{z:function(){return f}});var t=n(77916),i=n(69452),a=n(51848),r=n(29901),l=n(46133),s=n(2512),c=n(61250),d=["additionalClass","children","className","color","customClasses","disabled","fluid","fontClasses","icon","iconSize","onClick","padding","showLoader","type","variant","width"];function u(e,o){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),n.push.apply(n,t)}return n}function m(e){for(var o=1;o<arguments.length;o++){var n=null!=arguments[o]?arguments[o]:{};o%2?u(Object(n),!0).forEach((function(o){(0,t.Z)(e,o,n[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))}))}return e}var f=(0,r.forwardRef)((function(e,o){var n=e.additionalClass,t=e.children,r=(e.className,e.color),u=e.customClasses,f=e.disabled,v=e.fluid,p=e.fontClasses,x=e.icon,h=e.iconSize,b=e.onClick,g=e.padding,j=e.showLoader,w=(e.type,e.variant),y=e.width,C=(0,a.Z)(e,d),k=["relative","flex","items-center","justify-center","rounded-md"];switch(k=[].concat((0,i.Z)(k),x?["pl-2","pr-4","py-1"]:g?[g]:["px-4","py-1"]),v&&(k=[].concat((0,i.Z)(k),["w-full"])),w){case"secondary":k=[].concat((0,i.Z)(k),[p||"text-sm",y||"","bg-gray-100","hover:bg-gray-100","focus:bg-gray-100","focus:outline-none","focus:ring-2","disabled:bg-gray-100","disabled:opacity-30","disabled:cursor-not-allowed"]),k=[].concat((0,i.Z)(k),"teal"===r?["text-gray-900","focus:ring-teal-300"]:r?["text-".concat(r,"-700"),"focus:ring-".concat(r,"-100")]:["text-gray-900","focus:ring-teal-300"]);break;case"tertiary":k=[].concat((0,i.Z)(k),["border",p||"text-sm",y||"","focus:outline-none","focus:ring-2","disabled:opacity-30","disabled:cursor-not-allowed"]),k=[].concat((0,i.Z)(k),r?["border-".concat(r,"-500"),"text-".concat(r,"-700"),"hover:border-".concat(r,"-700"),"focus:border-".concat(r,"-500"),"focus:ring-".concat(r,"-200")]:["border-gray-300","text-gray-900","hover:border-gray-600","focus:border-gray-300","focus:ring-teal-300"]);break;case"ghost":k=[].concat((0,i.Z)(k),["border border-transparent",p||"text-sm",y||"","focus:outline-none","focus:ring-2","disabled:opacity-30","disabled:cursor-not-allowed"]),k=[].concat((0,i.Z)(k),r?["border-".concat(r,"-500"),"text-".concat(r,"-700"),"hover:border-".concat(r,"-700"),"focus:border-".concat(r,"-500"),"focus:ring-".concat(r,"-200")]:["hover:border-gray-300","text-gray-900","hover:border-gray-600","focus:border-gray-300","focus:ring-teal-300"]);break;default:k=[].concat((0,i.Z)(k),[y||"",p||"text-sm","text-sm","text-white","focus:outline-none","disabled:opacity-30","disabled:cursor-not-allowed"]),k=[].concat((0,i.Z)(k),"teal"===r?["bg-teal-300","hover:bg-teal-400","disabled:bg-teal-600"]:"gray"===r?["bg-gray-900","hover:bg-".concat(r,"-900"),"disabled:bg-".concat(r,"-600")]:r?["bg-".concat(r,"-500"),"hover:bg-".concat(r,"-700"),"disabled:bg-".concat(r,"-500")]:["bg-teal-300","hover:bg-teal-400","disabled:bg-teal-600"])}return u&&k.concat(u),n&&k.push(n),(0,c.jsxs)("button",m(m({type:"button",ref:o,className:u||k.join(" "),disabled:f||j,onClick:b},C),{},{children:[j&&(0,c.jsx)("div",{className:"absolute top-0 left-0 z-10 flex items-center justify-center w-full h-full pointer-events-none bg-gray-50 opacity-90",children:(0,c.jsx)(l.$,{size:5})}),x&&!h&&(0,c.jsx)(s.J,{name:x,marginRight:!0}),x&&h&&"small"===h&&(0,c.jsx)(s.J,{small:!0,name:x,marginRight:!0}),x&&h&&"medium"===h&&(0,c.jsx)(s.J,{medium:!0,name:x,marginRight:!0}),x&&h&&"large"===h&&(0,c.jsx)(s.J,{large:!0,name:x,marginRight:!0}),t]}))}));f.displayName="Button"},1232:function(e,o,n){"use strict";n.d(o,{X:function(){return x}});var t=n(69452),i=n(29901),a=n(16392),r=n(70012),l=n(15459),s=n(83802),c=n(4092),d=n(20116),u=n(30371),m=n(36255),f=n(44076),v=n(78170),p=n(61250),x=function(e){var o,n,x,h=e.selectedAnimations,b=void 0===h?[]:h,g=e.clear,j=e.onTransferComplete,w=e.download,y=e.onRemove,C=e.workspaceId,k=e.type,N=e.isPrivate,S=void 0!==N&&N,M=(0,i.useState)(!1),O=M[0],z=M[1],A=(0,i.useState)(!1),I=A[0],Z=A[1],L=(0,i.useState)(!1),P=L[0],F=L[1],R=b.find((function(e){return(0,v.xK)(e)})),_=b.length,D={move:(0,p.jsx)(d.A,{text:"Move",icon:"move",onClick:function(){return z(!0)}},"move"),transfer:(0,p.jsx)(d.A,{text:"Transfer",icon:"transfer",onClick:function(){return z(!0)}},"transfer"),download:(0,p.jsx)(d.A,{text:"Download",icon:"download",onClick:w},"download"),addToWorkflowCollection:(0,p.jsx)(d.A,{text:"Save to Collection",icon:"add-to-collection",onClick:function(){return Z(!0)}},"add-to-collection"),deleteAnimations:(0,p.jsx)(d.A,{text:_>1?"Delete files":"Delete file",icon:"delete",color:"red",onClick:function(){return F(!0)}},"delete-animations"),removeFromWorkflowCollection:(0,p.jsx)(f.Q,{animationIds:b.map((function(e){return e.id})),workspaceId:C,onRemove:y},"remove-from-collection")};return x="workflow-collection"===k?[[D.removeFromWorkflowCollection]]:[[].concat((0,t.Z)(C?[D.move]:[]),(0,t.Z)(C&&"my-private-animation"!==k&&!R?[D.addToWorkflowCollection]:[])),[D.deleteAnimations]],(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.T,{children:(0,p.jsx)("div",{className:"absolute flex flex-row items-center justify-center w-full bottom-10",children:(0,p.jsxs)(l.Z,{additionalClasses:"flex items-center divide-x divide-gray-200 py-2 px-4 shadow-md",children:[(0,p.jsxs)("div",{className:"flex items-center mr-3 space-x-4",children:[(0,p.jsxs)("p",{className:"text-sm text-gray-900",children:[(0,p.jsx)("span",{className:"font-lf-semi-bold",children:_})," ",(0,p.jsx)(s.q,{plural:"files",showCount:!1,singular:"file",count:_})," selected"]}),(0,p.jsx)(r.z,{text:"Clear all",variant:"tertiary",onClick:g})]}),x.map((function(e,o){var n="key-".concat(e.length,"-").concat(o);return(0,p.jsx)("div",{className:"flex items-center px-1.5",children:e},n)}))]})})}),C&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.Z,{workspaceId:C,isPrivate:S,show:O,close:function(){return z(!1)},animationIds:b.map((function(e){return e.id})),onTransferComplete:j}),(0,p.jsx)(u.m,{show:I,close:function(){return Z(!1)},animationIds:b.map((function(e){return e.id})),workspaceId:C,clear:g}),(0,p.jsx)(m.J,{animationIds:b.map((function(e){return e.id})),show:P,close:function(e){F(!1),g&&e&&g()},projectId:(null===(o=b[0])||void 0===o?void 0:o.project.id)||"unknown",name:null===(n=b[0])||void 0===n?void 0:n.name,workspaceId:C})]})]})}},437:function(e,o,n){"use strict";n.d(o,{z:function(){return j}});var t=n(96928),i=n(29901),a=n(46019),r=n(83849),l=n.n(r),s=n(94197),c=n(6825),d=n(47399),u=n(29100),m=n(41169),f=n(61250),v=function(e){var o,n,t,a,r,v,p,x,h,b,g,j,w,y=e.disableMenu,C=void 0!==y&&y,k=e.file,N=e.onClick,S=e.onSelectionChange,M=e.selectable,O=void 0!==M&&M,z=e.selected,A=void 0!==z&&z,I=e.selectionMode,Z=void 0!==I&&I,L=k.fileObject.filename.split(".").pop(),P=(0,i.useState)(!1),F=P[0],R=P[1],_=(0,i.useCallback)((function(){}),[]),D=(0,i.useCallback)((function(){S&&S()}),[S]),B=(0,i.useCallback)((function(){R(!0)}),[R]),T=(0,i.useCallback)((function(){R(!1)}),[R]),J=(0,m.a)({scopes:k.animationPermissionScopes||[]}).canFullAccess,K=(0,i.useCallback)((function(){}),[]);return(0,f.jsx)("div",{className:l()("w-full transition duration-100 ease-out bg-white border border-gray-100 rounded-md animation-card overflow-hidden group",{"ring ring-teal-300 ring-3":A}),onMouseEnter:B,onMouseLeave:T,children:(0,f.jsxs)("div",{className:"animation",children:[(0,f.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] relative z-0 p-2",children:[(0,f.jsx)("div",{className:"absolute z-20 flex justify-between w-full pr-2 top-2",children:(0,f.jsx)(d.Z,{variant:"caption-1",tag:"div",className:"ml-auto",children:(F&&O||A||Z)&&J()&&(0,f.jsx)(u.X,{additionalClasses:l()({"-mr-0.5 -mt-0.5":A}),label:"check-card",checked:A,onChange:D})})}),F&&"undefined"!==L&&(0,f.jsx)("div",{className:"absolute z-20 flex justify-between w-full pl-1 bottom-2",children:(0,f.jsx)("span",{className:"px-2 py-1 text-xs text-white bg-gray-800 rounded-full",children:".".concat(L)})}),(0,f.jsx)("div",{onKeyDown:K,onClick:N,className:"absolute inset-0 z-10 cursor-pointer"}),"creator"===L&&(0,f.jsx)("div",{className:"h-full px-4 py-2 -mx-2 border-b border-gray-50",children:(0,f.jsx)("div",{className:l()("h-full mx-auto",{"transparency-grid-dotted":"creator"===L}),children:(0,f.jsx)(c.y,{src:(null===(o=k.fileObject)||void 0===o||null===(n=o.thumbnails)||void 0===n||null===(t=n.webp)||void 0===t?void 0:t.medium.url)||(null===(a=k.fileObject)||void 0===a||null===(r=a.thumbnails)||void 0===r||null===(v=r.png)||void 0===v?void 0:v.medium.url)})})}),"creator"!==L&&(0,f.jsx)("div",{className:l()("h-full mx-auto"),children:(0,f.jsx)(c.y,{src:(null===(p=k.fileObject)||void 0===p||null===(x=p.thumbnails)||void 0===x||null===(h=x.webp)||void 0===h?void 0:h.medium.url)||(null===(b=k.fileObject)||void 0===b||null===(g=b.thumbnails)||void 0===g||null===(j=g.png)||void 0===j?void 0:j.medium.url)})})]}),(0,f.jsx)(s.W_,{showActionsMenu:F,animation:k,isMenuDisabled:C,onTitleDoubleClick:_,projectName:null===(w=k.project)||void 0===w?void 0:w.title,showAddToCollection:!1,title:k.name,updatedDate:k.updatedAt,showUpdatedUser:!0})]})})},p=n(41837),x=n(91984),h=n(95282),b=n(54724),g=n(78170),j=function(e){var o=e.canLoadMore,n=void 0!==o&&o,r=e.files,l=e.isLoadingMore,c=void 0!==l&&l,d=e.onLoadMore,u=void 0===d?function(){}:d,m=e.onSelectionChange,j=e.openInPreviewFromCollectionId,w=void 0===j?null:j,y=e.selectable,C=void 0!==y&&y,k=e.selectedAnimations,N=e.selectionMode,S=e.showUpdatedUser,M=void 0===S||S,O=e.showAddToCollection,z=void 0!==O&&O,A=e.fromSharedWithMe,I=void 0!==A&&A,Z=(0,t.useRouter)(),L=(0,a.useRecoilValue)(b.Y),P=(0,h.S)({onIntersecting:u}),F=(0,i.useCallback)((function(e){return function(){m&&m(e)}}),[m]),R=(0,i.useCallback)((function(e){return function(){"creator"===e.fileObject.filename.split(".").pop()?window.open("".concat("https://workshop.lottiefiles.dev","?fileId=").concat(e.id),"_blank"):w?Z.push("/collection/".concat(w,"/preview/").concat(e.id).concat(I?"?from=shared-with-me":"")):Z.push("/animation/".concat(e.id))}}),[w,Z,I]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 3xl:grid-cols-6 4xl:grid-cols-7",children:[r.map((function(e){var o,n,t,i,a,r,l,c,d,u="file-card-".concat(e.id);return(d=e)&&"Folder"===d.__typename?(0,f.jsx)(x.A,{href:"/folder/".concat(e.id),title:e.name,username:(null===(o=e.modifiedBy)||void 0===o?void 0:o.name)||(null===(n=e.createdBy)||void 0===n?void 0:n.name),date:e.updatedAt,disabled:N,folder:e,filesCount:e.filesCount,scopes:e.animationPermissionScopes},u):(0,g.QR)(e)?(0,f.jsx)(s.Kp,{scopes:e.animationPermissionScopes,animation:e,backgroundColor:e.backgroundColor,thumbnail:null===(t=e.fileObject)||void 0===t||null===(i=t.thumbnails)||void 0===i||null===(a=i.webp)||void 0===a?void 0:a.medium.url,title:e.name,url:null===(r=e.fileObject)||void 0===r?void 0:r.url,showUpdatedUser:M,username:e.modifiedBy?e.modifiedBy.name:null===(l=e.createdBy)||void 0===l?void 0:l.name,project:null===(c=e.project)||void 0===c?void 0:c.title,date:e.updatedAt,selectable:C,selected:!!k&&Boolean(k.some((function(o){return o.id===e.id}))),onSelectionChange:F(e),selectionMode:N,status:e.status,onClick:R(e),disableMenu:L>0,showAddToCollection:z},u):(0,g.xK)(e)?(0,f.jsx)(v,{file:e,onClick:R(e),selectable:C,onSelectionChange:F(e),selected:!!k&&Boolean(k.includes(e)),selectionMode:N}):(0,f.jsx)(f.Fragment,{})})),c&&(0,f.jsx)(p.a,{type:"spinner"})]}),n&&!c&&(0,f.jsx)("span",{ref:P})]})}},63721:function(e,o,n){"use strict";n.d(o,{B:function(){return C}});var t,i=n(78733),a=n(29901),r=n(19867),l=n(88725),s=n(75441),c=n(6825),d=n(41837),u=n(95282),m=n(61250),f=function(e){var o=e.column,n=e.render,t=e.row,i=t[o.field];return(0,m.jsx)("div",{className:o.size,children:(0,m.jsx)("div",{className:"flex items-center h-full px-10 text-sm",children:n&&n(t,o,i)||(0,m.jsx)("div",{className:"text-gray-900",children:i})})})},v=function(e){var o=e.columns,n=e.gridColsClass,t=void 0===n?"grid-cols-12":n,i=e.gridGapClass,a=void 0===i?"gap-4":i,r=e.render,l=e.row,s=(0,m.jsx)("div",{className:"flex items-center w-full",children:(0,m.jsx)("div",{className:"grid ".concat(t," ").concat(a," h-10 w-full"),children:o.map((function(e,o){return(0,m.jsx)(f,{column:e,row:l,render:r},"list-".concat(o.toString()))}))})});return l.href?(0,m.jsx)("a",{href:l.href,target:l.target||"_self",className:"relative flex items-center text-red-500 hover:bg-gray-100 py-1.5",children:s}):(0,m.jsx)("div",{className:"relative flex items-center text-red-500 py-1.5 hover:bg-gray-100",children:s})},p=function(e){var o=e.canLoadMore,n=e.columns,t=e.gridColsClass,i=void 0===t?"grid-cols-12":t,a=e.gridGapClass,r=void 0===a?"gap-4":a,l=e.isLoadingMore,s=e.onLoadMore,c=e.renderRow,f=e.rows,p=(0,u.S)({onIntersecting:s});return(0,m.jsxs)("div",{className:"overflow-hidden border border-gray-100 rounded-md",children:[(0,m.jsx)("div",{className:"grid ".concat(i," ").concat(r," bg-gray-50 border-b border-gray-100 text-sm"),children:n.map((function(e,o){return(0,m.jsx)("div",{className:e.size,children:(0,m.jsx)("div",{className:"px-10 py-2 text-gray-900",children:e.use})},"column-".concat(o.toString()))}))}),(0,m.jsxs)("div",{className:"bg-white border-gray-100 divide-y",children:[f.map((function(e,o){return(0,m.jsx)(v,{row:e,columns:n,render:c},"list-row".concat(o.toString()))})),l&&(0,m.jsx)("div",{className:"flex items-center justify-center w-full h-12",children:(0,m.jsx)(d.a,{type:"spinner",size:"3xs"})}),o&&!l&&(0,m.jsx)("span",{ref:p})]})]})},x=n(2512),h=n(36088),b=n(78170),g=n(64167),j=[{field:"name",use:"Name",size:"col-span-3"},{field:"status",use:"Status",size:"col-span-3"},{field:"lastModified",use:"Last modified",size:"col-span-3"},{field:"creator",use:"Owner",size:"col-span-2"},{field:"option",use:"",size:"col-span-1"}];!function(e){e.Animation="animation",e.Folder="folder"}(t||(t={}));var w=function(e){return e&&"Folder"===e.__typename},y=function(e,o,n){var t=e;return"name"===o.field?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"flex items-center justify-center flex-shrink-0 h-10",children:"folder"===t.type?(0,m.jsx)(x.J,{name:"folder",color:"text-gray-300",large:!0}):(0,m.jsxs)("div",{className:"relative w-8 h-8 overflow-hidden rounded",children:[t.thumbnail&&(0,m.jsx)(c.y,{src:t.thumbnail,alt:t.name}),t.thumbnail&&(0,m.jsx)("div",{className:"absolute bottom-0 right-0 text-gray-300",children:t.icon})]})}),(0,m.jsx)("div",{className:"ml-5 text-gray-900 truncate",children:t.name})]}):(0,m.jsx)("div",{className:"text-gray-900",children:n})},C=function(e){var o=e.canLoadMore,n=e.disableStatusSelect,c=void 0!==n&&n,d=e.files,u=e.fromSharedWithMe,f=void 0!==u&&u,v=e.isLoadingMore,C=e.onLoadMore,k=e.openInPreviewFromCollectionId,N=(0,i.useRouter)(),S=(0,h.w)();N.query.type&&"folders"===N.query.type||c?j[1]={field:"",use:"",size:"col-span-3"}:j[1]={field:"status",use:"Status",size:"col-span-3"};var M=(0,a.useMemo)((function(){return d.map((function(e){var o,n,i,a,c,d,u,v,p,h="/animation/".concat(e.id);return k?h="/collection/".concat(k,"/preview/").concat(e.id).concat(f?"?from=shared-with-me":""):w(e)?h="/folder/".concat(e.id):(0,b.xK)(e)&&(h="".concat("https://workshop.lottiefiles.dev","?fileId=").concat(e.id)),{name:(0,b.xK)(e)?"".concat(e.name,".creator"):e.name,status:w(e)?"":(0,b.QR)(e)&&(0,m.jsx)("div",{className:"-ml-4",children:(0,m.jsx)(l.z,{featureService:S,animationStatus:e.status,animationId:e.id,projectId:e.project.id,workspaceId:e.project.workspace.id})}),lastModified:(0,g.tC)(e.updatedAt),creator:(null===(o=e.createdBy)||void 0===o?void 0:o.name)||"",type:w(e)?t.Folder:t.Animation,href:h,icon:(0,b.xK)(e)?(0,m.jsx)(x.J,{name:"icon-creator-list",className:"w-2 h-2"}):(0,m.jsx)(x.J,{name:"icon-lottie-list",className:"w-2 h-2"}),target:(0,b.xK)(e)?"_blank":"_self",thumbnail:w(e)?null===(n=e.thumbnails)||void 0===n||null===(i=n[0])||void 0===i||null===(a=i.thumbnails)||void 0===a||null===(c=a.webp)||void 0===c?void 0:c.medium.url:(null===(d=e.fileObject.thumbnails)||void 0===d||null===(u=d.webp)||void 0===u?void 0:u.medium.url)||(null===(v=e.fileObject.thumbnails)||void 0===v||null===(p=v.png)||void 0===p?void 0:p.medium.url),option:w(e)?(0,m.jsx)(s.V,{show:!0,folder:e}):(0,m.jsx)(r.H,{show:!0,animation:e})}}))}),[S,d,k,f]);return(0,m.jsx)(p,{columns:j,rows:M,renderRow:y,canLoadMore:o,isLoadingMore:v,onLoadMore:C})}},54724:function(e,o,n){"use strict";n.d(o,{Y:function(){return t}});var t=(0,n(46019).atom)({key:"selectedAnimationsCount",default:0})},27722:function(e,o,n){e.exports=n(76155)}}]);